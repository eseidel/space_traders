{{#imports}}
import '{{{.}}}';
{{/imports}}

class {{ typeName }} {
    {{ typeName }}(
        {{#hasProperties}}
        { {{#properties}}{{#isRequired}}required{{/isRequired}} this.{{{ name }}}{{#hasDefaultValue}} = {{{ defaultValue }}}{{/hasDefaultValue}},{{/properties}}
        {{#hasAdditionalProperties}}required this.additionalProperties,{{/hasAdditionalProperties}} }
        {{/hasProperties}}
    );

    factory {{ typeName }}.fromJson({{{fromJsonJsonType}}} json) {
        return {{ typeName }}(
            {{#properties}}
            {{ name }}: {{{ fromJson }}},
            {{/properties}}
            {{#hasAdditionalProperties}}
            additionalProperties: json.map((key, value) => MapEntry(key, {{{ valueFromJson }}})),
            {{/hasAdditionalProperties}}
        );
    }

    /// Convenience to create a nullable type from a nullable json object.
    /// Useful when parsing optional fields.
    static {{ nullableTypeName }} maybeFromJson(Map<String, dynamic>? json) {
        if (json == null) {
            return null;
        }
        return {{ typeName }}.fromJson(json);
    }

    {{#properties}}
    final {{{ type }}} {{ name }};
    {{/properties}}

    {{#hasAdditionalProperties}}
    final Map<String, {{{ valueSchema }}}> additionalProperties;

    {{{ valueSchema }}}? operator [](String key) => additionalProperties[key];
    {{/hasAdditionalProperties}}

    Map<String, dynamic> toJson() {
        return {
            {{#properties}}
            '{{ name }}': {{{ toJson }}},
            {{/properties}}
            {{#hasAdditionalProperties}}
            ...additionalProperties.map((key, value) => MapEntry(key, {{{ valueToJson }}})),
            {{/hasAdditionalProperties}}
        };
    }
}
